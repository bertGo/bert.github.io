---
layout: page
title : 全文索引的配置和优化
subtitle : 停用词 min_word_len optimize_table
author : Bert
header-img: pexels-riccardo-bertolo-4245826.jpg
catalog : true
date : 2022-05-31 20:50
tags :
 - MYSQL
---

### 全文索引的配置和优化

- 全文索引的日常维护通常能大大提升性能,"双B-Tree"的特殊结构,在某些文档中比其他文档要包含多得多的关键字,这使得全文索引比起普通索引有跟多的碎片问题,所以需要经常使用Optimize table 来减少碎片,如果应用是I/O密集型的,那么定期的进行全文索引重建可以让性能提升很多
- 如果希望全文索引能够高效的工作,还需要保证索引缓存足够大,从而保证所有的全文索引都能缓存在内存中,可以为全文索引设置单独的键缓存,保证不会背其他的索引缓存挤出内存
- 维护一个完善的停用词列表
- 擅用ft_min_word_len,修改该参数可以过滤更多的单词,让查询速度更快,但是也会降低精确度,停用词列表和最小词长都可以通过减少索引词语来提升全文索引的效率,但同时也会降低搜索的精确度,一个好的办法是通过日志系统来研究分析用户的行文,通过这些行为和被搜索的策略来判断应该如何调整索引策略
- 当向一个有全文索引的表中导入大量数据的时候,最好先通过命令DISABLE KEYS 来禁用全文索引,然后在导入结束后ENABLE KEYS来建立全文索引,因为全文索引的更新是一个消耗很大的操作,所以上面的细节会帮你节省大量的时间